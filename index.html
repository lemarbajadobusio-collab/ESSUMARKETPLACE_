<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ESSU Marketplace | Sign In / Sign Up</title>
  <link rel="stylesheet" href="buyer.css">
</head>
<body>

  <section class="auth">
    <div class="auth-header">
      <div class="auth-logo">
        <svg viewBox="0 0 24 24" aria-hidden="true" width="24" height="24" style="fill:white">
          <path d="M4 6a2 2 0 0 1 2-2h9l5 5v9a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6zm12 0H6v12h12V9h-4V6z"/>
        </svg>
        <h1>ESSU MARKETPLACE</h1>
      </div>
      <p>Welcome! Sign in to continue or create an account</p>
    </div>

    <!-- LOGIN FRAME -->
    <div class="auth-card" id="loginCard">
      <div class="auth-card-header">
        <h2>Sign In</h2>
        <p>Welcome back! Please sign in to continue</p>
      </div>

      <form id="loginForm" class="auth-form" onsubmit="event.preventDefault(); login();">
        <div class="input-group">
          <label for="email">Email Address</label>
          <input id="email" type="email" placeholder="your.email@essu.edu.ph" required />
        </div>

        <div class="input-group">
          <label for="password">Password</label>
          <div class="password-field">
            <input id="password" type="password" placeholder="Enter your password" required />
            <button type="button" class="toggle-password" data-target="password" aria-label="Show password">
              <svg viewBox="0 0 24 24" aria-hidden="true" style="fill:#475569;width:20px;height:20px">
                <path d="M12 5c5.05 0 9.27 3.11 11 7-1.73 3.89-5.95 7-11 7S2.73 15.89 1 12c1.73-3.89 5.95-7 11-7zm0 2C8.38 7 5.25 9.09 3.7 12 5.25 14.91 8.38 17 12 17s6.75-2.09 8.3-5C18.75 9.09 15.62 7 12 7zm0 2.5A2.5 2.5 0 1 1 9.5 12 2.5 2.5 0 0 1 12 9.5z"/>
              </svg>
            </button>
          </div>
        </div>

        <button type="submit" class="primary-btn">Sign In</button>

        <p class="switch">
          Don't have an account?
          <a href="#signup" id="goSignup" class="action-link">Sign up</a>
        </p>
        <p id="loginError"></p>
      </form>
    </div>

    <!-- SIGNUP FRAME -->
    <div class="auth-card" id="signupCard">
      <div class="auth-card-header">
        <h2>Create Account</h2>
        <p>Join ESSU Marketplace today</p>
      </div>

      <form id="signupForm" class="auth-form" onsubmit="event.preventDefault(); signup();">
        <div class="input-grid signup-grid">
          <div class="input-group">
            <label for="name">Full Name</label>
            <input id="name" type="text" placeholder="Your full name" required />
          </div>

          <div class="input-group">
            <label for="suEmail">Email Address</label>
            <input id="suEmail" type="email" placeholder="your.email@essu.edu.ph" required />
          </div>

          <div class="input-group full">
            <label for="suPassword">Password</label>
            <div class="password-field">
              <input id="suPassword" type="password" placeholder="Create password" required />
              <button type="button" class="toggle-password" data-target="suPassword" aria-label="Show password">
                <svg viewBox="0 0 24 24" aria-hidden="true" style="fill:#475569;width:20px;height:20px">
                  <path d="M12 5c5.05 0 9.27 3.11 11 7-1.73 3.89-5.95 7-11 7S2.73 15.89 1 12c1.73-3.89 5.95-7 11-7zm0 2C8.38 7 5.25 9.09 3.7 12 5.25 14.91 8.38 17 12 17s6.75-2.09 8.3-5C18.75 9.09 15.62 7 12 7zm0 2.5A2.5 2.5 0 1 1 9.5 12 2.5 2.5 0 0 1 12 9.5z"/>
                </svg>
              </button>
            </div>
          </div>

          <div class="input-group full">
            <label for="suConfirm">Confirm Password</label>
            <div class="password-field">
              <input id="suConfirm" type="password" placeholder="Confirm password" required />
              <button type="button" class="toggle-password" data-target="suConfirm" aria-label="Show password">
                <svg viewBox="0 0 24 24" aria-hidden="true" style="fill:#475569;width:20px;height:20px">
                  <path d="M12 5c5.05 0 9.27 3.11 11 7-1.73 3.89-5.95 7-11 7S2.73 15.89 1 12c1.73-3.89 5.95-7 11-7zm0 2C8.38 7 5.25 9.09 3.7 12 5.25 14.91 8.38 17 12 17s6.75-2.09 8.3-5C18.75 9.09 15.62 7 12 7zm0 2.5A2.5 2.5 0 1 1 9.5 12 2.5 2.5 0 0 1 12 9.5z"/>
                </svg>
              </button>
            </div>
          </div>
        </div>

        <button type="submit" class="primary-btn">Create Account</button>

        <p class="switch">
          Already have an account?
          <a href="#login" id="goLogin" class="action-link">Sign in</a>
        </p>
        <p id="signupError"></p>
      </form>
    </div>
  </section>

  <script src="buyer.js"></script>
  <script>
    // Navigate to Sign Up frame
    document.getElementById('goSignup').addEventListener('click', (e) => {
      e.preventDefault();
      document.getElementById('signupCard').scrollIntoView({ behavior: 'smooth' });
    });
    
    // Navigate to Login frame
    document.getElementById('goLogin').addEventListener('click', (e) => {
      e.preventDefault();
      document.getElementById('loginCard').scrollIntoView({ behavior: 'smooth' });
    });

    // Password toggle
    document.querySelectorAll('.toggle-password').forEach(btn => {
      btn.addEventListener('click', function(e) {
        e.preventDefault();
        const targetId = this.getAttribute('data-target');
        const input = document.getElementById(targetId);
        input.type = input.type === 'password' ? 'text' : 'password';
      });
    });
  </script>
</body>
</html>
